import{r as k,j as r,y as h}from"./index-CS51DAse.js";import{t as $}from"./filterForm-qRQJ7N12.js";import{u as D}from"./Icons-Beyyzlav.js";const B=({setVisible:u,visible:m,name:s,limite:c,listaX:t,setListaX:l,contenido:b,size:i=8,isCategorical:f=!0})=>{const[x,p]=k.useState(!1),{arrowDownIcon:y,arrowUpIcon:j,checkAllIcon:N,removeAllIcon:v,trashIcon:w}=D(),C=e=>{const a=parseInt(f?e.target.value:e.target.name,10);l(d=>{const o=(d??[]).find(g=>g.name===s);if(o){if(o.ids.length>=i&&!o.ids.includes(a))return h.warning(`No se pueden agregar m치s de ${i} variables. Quite alguna antes de agregar.`),d;const g=o.ids.includes(a)?o.ids.filter(n=>n!==a):[...o.ids,a];return g.length===0?(d??[]).filter(n=>n.name!==s):(d??[]).map(n=>n.name===s?{...n,ids:g}:n)}else return(d??[]).length<c?[...d??[],{name:s,ids:[a]}]:(h.warning(`No se pueden agregar m치s de ${c} variables.`),d)})},I=e=>{console.log(t);const a=t.filter(d=>d.name!==e);l(a)},S=()=>{l(e=>(e??[]).filter(a=>a.name!==s))},A=()=>{l(e=>{const a=(e??[]).find(o=>o.name===s),d={name:s,ids:b.slice(0,i).map(o=>o.id)};return a?(e??[]).map(o=>o.name===s?d:o):(e??[]).length<c?[...e??[],d]:(h.warning(`No se pueden agregar m치s de ${c} variables.`),e)})},E=()=>{const e=!x;p(e),u(e?s:null)};return k.useEffect(()=>{m!=s&&p(!1)},[m]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-2 rounded-lg border flex items-center justify-between text-sm  me-2 mb-2",children:[r.jsxs("div",{className:"text-xs sm:text-sm text-black dark:text-gray-200",children:[" ",$(s)]}),r.jsxs("div",{className:"flex gap-4",children:[t&&t.length>0&&t.some(e=>e.name===s)&&r.jsx("button",{className:"p-2 bg-red-500 rounded-lg hover:bg-red-600 cursor-pointer ",onClick:()=>I(s),children:w}),r.jsx("button",{className:"p-2 rounded-lg cursor-pointer border border-gray-400 dark:border-gray-600 ",onClick:()=>E(),children:x?j:y})]})]}),r.jsxs("ul",{className:`gap-1 mb-4 max-h-[600px] overflow-x-auto  ${x?"":"hidden"}`,children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:text-xs",children:[r.jsxs("a",{onClick:()=>A(),className:"dark:bg-gray-800 dark:border-gray-700 inline-flex items-center justify-between border hover:cursor-pointer border-gray-200 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[N,r.jsx("span",{className:"ms-2 text-xs",children:i===9?"Seleccionar todos":"Seleccionar varios"})]}),r.jsxs("a",{onClick:()=>S(),className:"dark:bg-gray-800 dark:border-gray-700 inline-flex items-center border hover:cursor-pointer border-gray-200 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[v,r.jsx("span",{className:"ms-2 text-xs",children:"Quitar Selecci칩n"})]})]}),r.jsx("ul",{className:"flex-1 grid grid-cols-1 py-4",children:b.map(e=>r.jsxs("li",{className:"p-1 flex items-center",children:[r.jsx("input",{type:"checkbox",id:e.nombre+s,name:e.nombre,value:e.id,className:"hidden peer",checked:t.some(a=>a.name===s&&a.ids.includes(e.id)),onChange:C}),r.jsx("label",{htmlFor:e.nombre+s,className:"w-full p-2 cursor-pointer rounded-sm dark:hover:text-gray-300 dark:border-gray-700 peer-checked:bg-gray-50  peer-checked:text-red-octopus-500 peer-checked:border-l-4 peer-checked:border-red-octopus-500 hover:text-gray-600 dark:peer-checked:text-gray-300  peer-checked:dark:bg-gray-900 hover:bg-gray-50 dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-700 capitalize text-sm",children:e.nombre})]},e.id))})]})]})};export{B as M};
