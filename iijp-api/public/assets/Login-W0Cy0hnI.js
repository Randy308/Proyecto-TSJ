import{r,j as e,a9 as y,aa as k,A as j,b as v,ab as w}from"./index-BO822pXt.js";import{C as N}from"./index-B7Ea7ChQ.js";import{e as E}from"./derechoo-CQXi4tMJ.js";const S=({password:l,setPassword:m,passwordError:o,setPasswordError:t})=>{const[a,s]=r.useState(!1),n=()=>s(i=>!i),c=i=>{const d=i.trim();m(d),d?d.length<8?t("La contraseña debe tener al menos 8 caracteres"):t(""):t("El campo contraseña es requerido")};return r.useEffect(()=>{c(l)},[]),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:"Contraseña"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[e.jsx("input",{type:a?"text":"password",value:l,onChange:i=>c(i.target.value),id:"password",name:"password",className:"flex-grow bg-transparent text-gray-900 text-sm rounded-l-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"•••••••••",required:!0}),e.jsx("button",{type:"button",className:"p-2 text-gray-700 dark:text-white focus:outline-none",onClick:n,"aria-label":a?"Ocultar contraseña":"Mostrar contraseña",children:a?e.jsx(y,{}):e.jsx(k,{})})]}),o&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:o})]})},L=({email:l,setEmail:m,emailError:o,setEmailError:t})=>{r.useEffect(()=>{a(l)},[]);const a=s=>{const n=s.trim();m(n),n?n.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?t(""):t("No es un email válido"):t("El campo email es requerido")};return e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:l,onChange:s=>a(s.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ingrese su email",required:!0}),o&&e.jsx("p",{className:"text-red-400 text-sm",children:o})]})},A=()=>{const{getToken:l,saveToken:m}=j(),o=v(),[t,a]=r.useState(!1),[s,n]=r.useState("admin@example.com"),[c,i]=r.useState("password"),[d,f]=r.useState(""),[b,x]=r.useState("");r.useEffect(()=>{l()&&o("/")},[l,o]);const g=()=>s.trim()===""||c.trim()===""||d||b,p=async h=>{if(h.preventDefault(),!g()&&!t){a(!0);try{const{data:u}=await w.getLogin({email:s,password:c});u.success?m(u.user,u.login,u.rol[0]):x("Email o contraseña incorrectos")}catch(u){console.error("Error en la solicitud:",u)}finally{a(!1)}}};return e.jsx("div",{className:"bg-gray-300 dark:bg-gray-900 bg-cover bg-center bg-no-repeat bg-fixed flex flex-col justify-center items-center h-screen w-screen sm:p-10 md:p-20 lg:p-40",children:e.jsxs("div",{className:"grid md:grid-cols-3 sm:grid-cols-1",children:[e.jsx("div",{className:"md:col-span-2 col-span-1",children:e.jsx("img",{src:E,className:"object-contain w-full h-full",alt:"Logo UMSS"})}),e.jsx("div",{className:"col-span-1 flex items-center bg-white dark:bg-gray-700 dark:border-gray-900 border border-gray-300 rounded-md",children:e.jsxs("form",{onSubmit:p,className:"w-full p-4 ml-0 mt-0 ",children:[e.jsx("div",{className:"text-center text-black dark:text-white text-4xl font-bold titulo",children:"SAMED"}),e.jsx(L,{email:s,setEmail:n,emailError:d,setEmailError:f}),e.jsx(S,{password:c,setPassword:i,passwordError:b,setPasswordError:x}),e.jsx("button",{type:"submit",disabled:g(),className:`text-white bg-red-octopus-700 hover:bg-red-octopus-800 focus:ring-4 focus:outline-none focus:ring-red-octopus-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ${g()?"bg-gray-300 cursor-not-allowed hover:bg-gray-300":""}`,children:t?e.jsx(N,{className:"inline w-5 h-5 me-3 text-white animate-spin dark:text-gray-600"}):"Acceder"})]})})]})})},P=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{L as E,A as L,S as P,P as a};
