import{A as N,b as v,r as i,c as w,j as e,L as k,d as _,M as l,F as S,e as c}from"./index-CD8CbPwS.js";import{P as C}from"./Paginate-yQKV7Oks.js";import{P as d}from"./PortalButton-CdFt-TFv.js";import{R as x}from"./ResolucionTSJ-BMmXDX-W.js";import"./index-Czl2LD_p.js";import"./Login-BrorGFWg.js";import"./index-CMepVOqn.js";import"./derechoo-CQXi4tMJ.js";import"./filterForm-BY0rdyPp.js";const O=()=>{const{can:m,hasAnyPermission:o}=N(),n=v(),[p,u]=i.useState(!0),{resolutions:a,totalResolutions:h,pageCount:t,current:g,obtenerResolutions:b}=w(),j=[{nombre:"Carga de Autos Supremos (CSV)",path:"/admin/subir-autos-supremos",icon:e.jsx(S,{className:"text-white w-[50px] h-[50px]"}),permiso:"subir_resoluciones"},{nombre:"Carga de Jurisprudencias (CSV)",path:"/admin/subir-jurisprudencia",icon:e.jsx(c,{className:"text-white w-[50px] h-[50px]"}),permiso:"subir_jurisprudencia"},{nombre:"Carga Autom치tica (Web Scraping)",path:"/admin/realizar-web-scrapping",icon:e.jsx(c,{className:"text-white w-[50px] h-[50px]"}),permiso:"realizar_web_scrapping"}],y=s=>{const r=Math.min(s,t);b(r)};return i.useEffect(()=>{o(["subir_resoluciones","subir_jurisprudencia","realizar_web_scrapping"])?u(!1):n("/")},[o,n]),p?e.jsx(k,{}):e.jsxs("div",{className:"flex flex-col items-center container mx-auto pt-4 mt-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 text-black dark:text-white text-center",children:"Opciones para subir Resoluciones"}),e.jsx("div",{className:"flex flex-row flex-wrap gap-4 justify-center items-center",children:j.map(s=>m(s.permiso)?e.jsx(_,{to:s.path,children:e.jsxs("div",{className:"group box-content bg-[#31363F] hover:bg-[#222831] p-4 hover:cursor-pointer rounded-lg hover:scale-125",children:[e.jsx("div",{className:"flex justify-center p-4 transition-transform border-black group-hover:animate-bounce",children:s.icon}),e.jsx("p",{className:"text-center text-white my-4 py-4",children:s.nombre})]})},s.nombre):null)}),a.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative md:w-full overflow-x-auto space-y-4 my-4",children:[e.jsxs("table",{className:`w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border\r
         border-gray-300 dark:border-gray-600 rounded-lg p-4 hidden md:table`,children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[Object.keys(a[0]).map(s=>e.jsx("th",{scope:"col",className:"px-6 py-3",children:s})),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Acci칩n"})]})}),e.jsx("tbody",{children:a.map((s,r)=>e.jsxs("tr",{className:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-6 py-4",children:s.id}),e.jsx("th",{scope:"row",className:"px-6 py-4",children:s.fecha_emision}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:s.nro_expediente}),e.jsx("td",{className:"px-6 py-4",children:s.nro_resolucion}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(d,{Icon:l,title:"Auto Supremo",color:"red",name:"Ver",large:!0,full:!1,content:f=>e.jsx(x,{id:s.id})})})]},r))})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:a.map((s,r)=>e.jsxs("div",{className:"relative p-6 rounded-2xl bg-white dark:bg-gray-900 shadow-md border-2 hover:shadow-lg transition border-gray-100",children:[e.jsx("div",{className:"mt-2 flex justify-center text-center text-xl",children:e.jsx(d,{Icon:l,title:"Auto Supremo",name:`Resoluci칩n ${s.nro_resolucion}`,color:"link",full:!1,large:!0,content:f=>e.jsx(x,{id:s.id})})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium",children:"Periodo:"})," ",s.fecha_emision]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Numero de expediente:"}),e.jsx("div",{className:"pl-2 mt-1 border-l-4 border-blue-500 dark:border-blue-400",dangerouslySetInnerHTML:{__html:s.nro_expediente}})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Numero de resoluci칩n:"}),e.jsx("div",{className:"pl-2 mt-1 border-l-4 border-green-500 dark:border-green-400",dangerouslySetInnerHTML:{__html:s.nro_resolucion}})]})]})]})]},r))})]}),e.jsx("div",{className:"mt-6",children:e.jsx(C,{handlePageClick:y,pageCount:t,actualPage:g,totalCount:h,lastPage:t})})]}):e.jsx("div",{className:"text-center my-8 h-[400px] flex flex-col items-center justify-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No cuenta con resoluciones registradas con su cuenta."})})]})};export{O as default};
