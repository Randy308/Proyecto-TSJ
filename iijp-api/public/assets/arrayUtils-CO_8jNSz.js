const g=(e,s="Otros")=>{if(e.length===0)return[];const c=e[0].map((o,a)=>e.reduce((l,u)=>l+u[a],0));return c.unshift(s),c},p=e=>{if(!e||e.length===0)return[];const s=[...e[0],"Total"],o=e.slice(1).map(r=>{const n=r.slice(1).reduce((i,f)=>i+f,0);return[...r,n]}),a=o[0].length-1,l=new Array(a).fill(0);o.forEach(r=>{for(let t=1;t<r.length;t++)l[t-1]+=r[t]});const u=["Total",...l];return[s,...o,u]},m=(e,s,c)=>{if(!e||e.length===0)return[];const o=e[0],a=e.slice(1),l=[],u=a.filter(t=>{const n=t.slice(1);return n.reduce((f,h)=>f+h,0)/s<c?(l.push(n),!1):!0}),r=g(l);return r.length>0&&u.push(r),[o,...u]},T=(e,s,c)=>{if(!s||s.length===0)return[];const o={[c]:"Total"},a=e?s.map(t=>{const n=Object.entries(t).reduce((i,[f,h])=>f!==c?i+h:i,0);return{...t,Total:n}}):s;a.forEach(t=>{Object.keys(t).forEach(n=>{n!==c&&(o[n]=(o[n]||0)+t[n])})});const l=[...a,o],u=Object.keys(s[0]).map(t=>t.charAt(0).toUpperCase()+t.slice(1)),r=a.map(t=>Object.values(t));return{nuevaLista:l,headers:u,values:r}};export{T as a,p as b,m as f};
