import{r as l,c as j,j as e,N as k,O as w,R as N}from"./index-CS51DAse.js";import{a as B}from"./index-BBE9PvKj.js";import{S}from"./SimpleChart-BkorcYwO.js";import{A as C}from"./AsyncButton-O7CY9z2J.js";import{f as I}from"./filterForm-qRQJ7N12.js";import"./dark-Bdao2Wg9.js";import"./Icons-Beyyzlav.js";import"./index-Bjhrrt2E.js";const R=({item:t,removeItemById:n})=>{const[o,i]=l.useState(!1);sessionStorage.removeItem("formData");const u=j(),g=(d,c="/proyeccion")=>{u(c,{state:{parametros:d}})};return e.jsxs("div",{className:"w-full max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-end px-4 pt-4",children:[e.jsx("button",{id:"dropdownButton",onClick:()=>i(d=>!d),"data-dropdown-toggle":"dropdown",className:"inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1.5",type:"button",children:e.jsx(B,{className:"w-5 h-5"})}),e.jsx("div",{id:"dropdown",onMouseLeave:()=>i(!1),className:`z-10 text-base absolute list-none bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700 ${o?"":"hidden"}`,children:e.jsxs("ul",{className:"py-2","aria-labelledby":"dropdownButton",children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>g(t,"/jurisprudencia/avanzado"),className:"hover:cursor-pointer block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Realizar análisis"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>n(t.id),className:"hover:cursor-pointer block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Eliminar"})})]})})]}),e.jsxs("div",{className:"flex flex-col items-center pb-10",children:[e.jsx("h5",{className:"mb-1 text-lg font-medium text-gray-900 dark:text-white",children:t.value}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Termino de búsqueda"})]})]})},P=()=>{const[t,n]=l.useState(null),[o,i]=l.useState([]),[u,g]=l.useState({}),[d,c]=l.useState(!1),[m,p]=l.useState({campo:"proceso",busqueda:"proceso"});l.useEffect(()=>{t&&g({title:{text:"Cantidad de resoluciones a lo largo del tiempo",padding:[20,20,10,20]},tooltip:{trigger:"axis"},legend:{data:t.map(r=>r.name),padding:[20,20,10,20]},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value"},series:t.map(r=>r),grid:{top:"10%",bottom:"10%",left:"10%",right:"10%"}})},[t]);const f=async()=>{if(d)return;c(!0);const r=I(m);N.obtenerElemento({...r}).then(s=>{s.data.resoluciones.data.length>0?(n(a=>a?[...a,s.data.resoluciones]:[s.data.resoluciones]),i(a=>a.length>0?[...a,s.data.termino]:[s.data.termino]),b()):alert("No existen datos")}).catch(s=>{console.error("Error fetching data:",s)}).finally(()=>{c(!1)})},y=r=>{n(a=>(a||[]).filter(x=>x.id!==r)),o.find(a=>a.id===r)&&i(a=>a.filter(x=>x.id!==r))},v=k.useCallback(y,[o]),b=()=>{p({campo:"all",busqueda:""})},h=(r,s)=>{p(a=>({...a,[r]:s}))};return e.jsxs("div",{className:"px-1 sm:px-5 md:px-10 lg:px-40 custom:px-0",id:"jurisprudencia-busqueda",children:[e.jsx("div",{className:"row p-4",children:e.jsx("div",{className:"flex flex-col bg-white dark:bg-[#111827] rounded-lg border border-gray-200 dark:border-gray-900  shadow mt-4",children:e.jsxs("div",{className:"w-full p-4 text-center bg-white border border-gray-200 rounded-lg sm:p-8 dark:bg-gray-800  dark:border-gray-900",children:[e.jsxs("form",{className:"w-full flex justify-center items-center flex-row gap-4",children:[e.jsx("div",{className:"max-w-sm mx-auto h-full",children:e.jsxs("select",{id:"countries",onChange:r=>h("campo",r.target.value),value:m.campo,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[e.jsx("option",{defaultValue:"all",disabled:!0,children:"Elija una opción"}),e.jsx("option",{value:"proceso",children:"Buscar en Proceso"}),e.jsx("option",{value:"sintesis",children:"Buscar en Síntesis"}),e.jsx("option",{value:"precedente",children:"Buscar en Precedente"}),e.jsx("option",{value:"ratio",children:"Buscar en Ratio"}),e.jsx("option",{value:"restrictor",children:"Buscar en Restrictor"}),e.jsx("option",{value:"proceso",children:"Buscar en Proceso"})]})}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:"search",id:"default-search",onChange:r=>h("busqueda",r.target.value),value:m.busqueda,className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Buscar términos clave...",required:!0})})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4 p-4",children:[e.jsx("div",{children:e.jsx(C,{asyncFunction:f,name:"Generar Serie Temporal",isLoading:d})}),e.jsxs("button",{className:"px-5 py-2.5 text-sm font-medium text-white inline-flex items-center bg-red-octopus-700 hover:bg-red-octopus-600 dark:bg-blue-700 dark:hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-red-octopus-300 rounded-lg text-center  dark:focus:ring-blue-800",onClick:b,children:[e.jsx(w,{className:"fill-current w-4 h-4 mr-2"}),e.jsx("span",{children:"Limpiar"})]})]})]})})}),e.jsx("div",{className:"flex flex-row flex-wrap py-4 m-4 gap-4",children:o&&o.length>0&&o.map((r,s)=>e.jsx(R,{item:r,removeItemById:v},s))}),t&&t.length>0&&e.jsx("div",{className:"p-4 bg-white text-medium text-gray-500 dark:text-gray-400 dark:bg-gray-800 rounded-lg w-full mb-8",children:e.jsx(S,{option:u,border:!1})})]})};export{P as default};
