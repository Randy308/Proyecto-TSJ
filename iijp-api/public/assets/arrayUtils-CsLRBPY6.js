import{r as f,j as c,a7 as m,a8 as x}from"./index-CD8CbPwS.js";const b=({data:e=[],columns:t=[]})=>{const[n,l]=f.useState({key:null,direction:"asc"}),u=r=>{l(h=>h.key===r?{key:r,direction:h.direction==="asc"?"desc":"asc"}:{key:r,direction:"asc"})},a=e.slice(0,-1),i=e[e.length-1],s=[...[...a].sort((r,h)=>{if(!n.key)return 0;const d=r[n.key],g=h[n.key];return d===g?0:n.direction==="asc"?d>g?1:-1:d<g?1:-1}),i];return c.jsx("div",{className:"overflow-x-auto p-2 m-2 uppercase",children:c.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500 dark:text-gray-400 border border-gray-300 dark:border-gray-700",children:[c.jsxs("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:[t&&t.length>2&&c.jsxs("tr",{children:[c.jsx("th",{className:"bg-white"}),c.jsx("th",{colSpan:Math.abs(t.length>2?t.length-2:0),className:"text-center border",children:"Departamento"})]}),c.jsx("tr",{children:t&&t.map((r,h)=>{const g=n.key===r.accessorKey?n.direction==="asc"?c.jsx(m,{className:"inline ml-1"}):c.jsx(x,{className:"inline ml-1"}):null;return c.jsxs("th",{className:"px-4 py-2 cursor-pointer select-none border",onClick:()=>u(r.accessorKey),children:[r.header," ",g]},h)})})]}),c.jsx("tbody",{children:s.map((r,h)=>c.jsx("tr",{className:`border-t border-gray-200 dark:border-gray-600 ${h===s.length-1?"font-bold bg-gray-100 dark:bg-gray-800":""}`,children:t&&t.map((d,g)=>c.jsx("td",{className:"px-4 py-2",children:r[d.accessorKey]},g))},h))})]})})},j=e=>{if(!e||e.length===0)return[];const t=e.length,n=e[0].length;return Array.from({length:n},(u,a)=>Array.from({length:t},(i,o)=>e[o][a]))},N=e=>{if(!e||e.length===0)return{};const t=e[e.length-1].slice(1,-1);if(!Array.isArray(t)||t.length===0)return{};if(t.some(s=>isNaN(s)))return console.error("Invalid data for statistics:",t),{};const n=Math.round(t.reduce((s,r)=>s+Number(r),0)*100)/100,l=Math.round(n/t.length*100)/100,u=Math.round(Math.min(...t)*100)/100,a=Math.round(Math.max(...t)*100)/100,i=Math.round(t.reduce((s,r)=>s+(r-l)**2,0)/t.length*100)/100,o=Math.round(Math.sqrt(i)*100)/100;return console.log("Data received for statistics:",t),{mean:l,min:u,max:a,stdDev:o,variance:i}},y=(e,t="Otros")=>{if(e.length===0)return[];const n=e[0].map((l,u)=>e.reduce((a,i)=>a+i[u],0));return n.unshift(t),n},k=e=>{if(!e||e.length===0)return[];const t=e[0].length>2?[...e[0],"Total"]:e[0];console.log(t);const l=e.slice(1).map(o=>{const s=o.slice(1);console.log(s.length);const r=s.reduce((h,d)=>h+d,0);return s.length>1?[...o,r]:o}),u=l[0].length-1,a=new Array(u).fill(0);l.forEach(o=>{for(let s=1;s<o.length;s++)a[s-1]+=o[s]});const i=["Total",...a];return[t,...l,i]},w=(e,t,n)=>{if(!e||e.length===0)return[];const l=e[0],u=e.slice(1),a=[],i=u.filter(s=>{const r=s.slice(1);return r.reduce((d,g)=>d+g,0)/t<n?(a.push(r),!1):!0}),o=y(a);return o.length>0&&i.push(o),[l,...i]};export{b as T,k as a,w as f,j as i,N as o};
