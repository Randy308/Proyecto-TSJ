import{r as l,j as e,a8 as y,a9 as j,u as w,c as k}from"./index-CS51DAse.js";import{C as v}from"./index-Bjhrrt2E.js";const N=({password:a,setPassword:d,passwordError:o,setPasswordError:t})=>{const[r,s]=l.useState(!1),u=()=>s(n=>!n),c=n=>{const i=n.trim();d(i),i?i.length<8?t("La contraseña debe tener al menos 8 caracteres"):t(""):t("El campo contraseña es requerido")};return l.useEffect(()=>{c(a)},[a]),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:"Contraseña"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[e.jsx("input",{type:r?"text":"password",value:a,onChange:n=>c(n.target.value),id:"password",name:"password",className:"flex-grow bg-transparent text-gray-900 text-sm rounded-l-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"•••••••••",required:!0}),e.jsx("button",{type:"button",className:"p-2 text-gray-700 dark:text-white focus:outline-none",onClick:u,"aria-label":r?"Ocultar contraseña":"Mostrar contraseña",children:r?e.jsx(y,{}):e.jsx(j,{})})]}),o&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:o})]})},E=({email:a,setEmail:d,emailError:o,setEmailError:t})=>{l.useEffect(()=>{r(a)},[a]);const r=s=>{d(s),s?s.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?t(""):t("No es un email válido"):t("El campo email es requerido")};return e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-bold text-gray-900 dark:text-white",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a,onChange:s=>r(s.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ingrese su email",required:!0}),o&&e.jsx("p",{className:"text-red-400 text-sm",children:o})]})};function S(){const{hasAccess:a,login:d}=w(),o=k(),[t,r]=l.useState(!1),[s,u]=l.useState("admin@example.com"),[c,n]=l.useState("password"),[i,f]=l.useState(""),[b,x]=l.useState("");l.useEffect(()=>{a()&&o("/")},[]);const m=()=>(i!==""||b!=="")&&s.trim()!==""&&c.trim()!=="",p=async h=>{if(h.preventDefault(),!m()&&!t){r(!0);try{const{success:g}=await d(s,c);g?o("/dashboard"):x("Email o contraseña incorrectos")}catch(g){console.error("Error en la solicitud:",g)}finally{r(!1)}}};return e.jsx("div",{className:"bg-gray-300 dark:bg-gray-900 bg-cover bg-center bg-no-repeat bg-fixed flex flex-col justify-center items-center h-screen w-screen sm:p-5 md:p-10 lg:p-30",children:e.jsxs("div",{className:"grid md:grid-cols-3 sm:grid-cols-1 shadow-lg rounded-lg",children:[e.jsx("div",{className:"md:col-span-2 col-span-1",children:e.jsx("img",{src:"https://www.umss.edu.bo/wp-content/uploads/2019/09/1010069.jpg",className:"object-contain w-full h-full",alt:"Logo UMSS"})}),e.jsx("div",{className:"col-span-1 flex items-center bg-white dark:bg-gray-700 dark:border-gray-900 border border-gray-300 rounded-md",children:e.jsxs("form",{onSubmit:p,className:"w-full p-4 ml-0 mt-0 ",children:[e.jsx("div",{className:"text-center text-black dark:text-white text-4xl font-bold titulo",children:"SAMED"}),e.jsx(E,{email:s,setEmail:u,emailError:i,setEmailError:f}),e.jsx(N,{password:c,setPassword:n,passwordError:b,setPasswordError:x}),e.jsx("button",{type:"submit",disabled:m(),className:`text-white bg-red-octopus-700 hover:bg-red-octopus-800 focus:ring-4 focus:outline-none focus:ring-red-octopus-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ${m()?"bg-gray-300 cursor-not-allowed hover:bg-gray-300":""}`,children:t?e.jsx(v,{className:"inline w-5 h-5 me-3 text-white animate-spin dark:text-gray-600"}):"Acceder"})]})})]})})}const L=Object.freeze(Object.defineProperty({__proto__:null,Login:S},Symbol.toStringTag,{value:"Module"}));export{E,S as L,N as P,L as a};
