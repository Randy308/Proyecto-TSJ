import{r as f,j as i,a2 as x,a3 as p}from"./index-CS51DAse.js";const N=({data:t,columns:o})=>{const[e,l]=f.useState({key:null,direction:"asc"}),u=r=>{l(n=>({key:r,direction:n.key===r&&n.direction==="asc"?"desc":"asc"}))},a=t.slice(0,-1),d=t[t.length-1],c=[...[...a].sort((r,n)=>{const h=e.key;if(!h)return 0;const g=r?.[h],m=n?.[h];return g===m?0:e.direction==="asc"?g>m?1:-1:g<m?1:-1}),d];return i.jsx("div",{className:"overflow-x-auto p-2 m-2 uppercase",children:i.jsxs("table",{className:"min-w-full text-sm text-left text-gray-500 dark:text-gray-400 border border-gray-300 dark:border-gray-700",children:[i.jsxs("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:[o.length>2&&i.jsxs("tr",{children:[i.jsx("th",{className:"bg-white"}),i.jsx("th",{colSpan:o.length-2,className:"text-center border",children:"Y"})]}),i.jsx("tr",{children:o.map((r,n)=>{const g=e.key===r.accessorKey?e.direction==="asc"?x:p:null;return i.jsxs("th",{className:"px-4 py-2 cursor-pointer select-none border",onClick:()=>u(r.accessorKey),children:[r.header,g&&i.jsx(g,{className:"inline ml-1"})]},n)})})]}),i.jsx("tbody",{children:c.map((r,n)=>i.jsx("tr",{className:`border-t border-gray-200 dark:border-gray-600 ${n===c.length-1?"font-bold bg-gray-100 dark:bg-gray-800":""}`,children:o.map((h,g)=>i.jsx("td",{className:"px-4 py-2",children:r?.[h.accessorKey]},g))},n))})]})})},j=t=>{if(!t||t.length===0)return[];const o=t.length,e=t[0].length;return Array.from({length:e},(u,a)=>Array.from({length:o},(d,s)=>t[s][a]))},w=t=>{if(console.log("Datos para estadÃ­sticas:",t),!t||t.length===0)return{};const o=t[t.length-1].slice(1,-1),e=o.map(Number).filter(r=>!isNaN(r));if(e.length===0)return console.error("No numeric data found for statistics:",o),{};const u=e.reduce((r,n)=>r+n,0)/e.length,a=Math.min(...e),d=Math.max(...e),s=e.reduce((r,n)=>r+(n-u)**2,0)/e.length,c=Math.sqrt(s);return{mean:Math.round(u*100)/100,min:Math.round(a*100)/100,max:Math.round(d*100)/100,stdDev:Math.round(c*100)/100,variance:Math.round(s*100)/100}},k=t=>{if(!t||t.length===0)return[];const o=t[0].length>2?[...t[0],"Total"]:t[0];console.log(o);const l=t.slice(1).map(s=>{const c=s.slice(1);console.log(c.length);const r=c.reduce((n,h)=>Number(n)+Number(h),0);return c.length>1?[...s,r]:s}),u=l[0].length-1,a=new Array(u).fill(0);l.forEach(s=>{for(let c=1;c<s.length;c++)a[c-1]+=s[c]});const d=["Total",...a];return[o,...l,d]},M=(t,o,e)=>{if(!t||t.length===0)return[];const l=t[0],u=t.slice(1),a=[],d=u.filter(s=>s.slice(1).map(Number).reduce((n,h)=>n+h,0)/o<e?(a.push(s),!1):!0);if(a.length>0){const s=b(a);d.push(["Otros",...s])}return[l,...d]};function b(t){if(t.length===0)return[];const o=t[0].length-1,e=new Array(o).fill(0);return t.forEach(l=>{l.slice(1).forEach((u,a)=>{e[a]+=Number(u)})}),e.map(l=>Math.round(l*100)/100)}export{N as T,k as a,M as f,j as i,w as o};
