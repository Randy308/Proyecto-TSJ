import{r as k,j as s,y as h}from"./index-DjMZi7pv.js";import{t as E}from"./filterForm-BY0rdyPp.js";import{u as $}from"./Icons-B-YI_6c9.js";const Q=({setVisible:u,visible:m,name:r,limite:c,listaX:t,setListaX:l,contenido:b,size:i=8})=>{const[g,p]=k.useState(!1),{arrowDownIcon:f,arrowUpIcon:y,checkAllIcon:j,removeAllIcon:N,trashIcon:v}=$(),w=e=>{const a=parseInt(e.target.name,10);l(o=>{const d=o.find(x=>x.name===r);if(d){if(d.ids.length>=i&&!d.ids.includes(a))return h.warning(`No se pueden agregar m치s de ${i} variables. Quite alguna antes de agregar.`),o;const x=d.ids.includes(a)?d.ids.filter(n=>n!==a):[...d.ids,a];return x.length===0?o.filter(n=>n.name!==r):o.map(n=>n.name===r?{...n,ids:x}:n)}else return o.length<c?[...o,{name:r,ids:[a]}]:(h.warning(`No se pueden agregar m치s de ${c} variables.`),o)})},C=e=>{const a=t.filter(o=>o.name!==e);l(a)},I=()=>{l(e=>e.filter(a=>a.name!==r))},S=()=>{l(e=>{const a=e.find(d=>d.name===r),o={name:r,ids:b.slice(0,i).map(d=>d.id)};return a?e.map(d=>d.name===r?o:d):e.length<c?[...e,o]:(h.warning(`No se pueden agregar m치s de ${c} variables.`),e)})},A=()=>{const e=!g;p(e),u(e?r:null)};return k.useEffect(()=>{m!=r&&p(!1)},[m]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-2 rounded-lg border flex items-center justify-between text-sm  me-2 mb-2",children:[s.jsxs("div",{className:"text-xs sm:text-sm text-black dark:text-gray-200",children:[" ",E(r)]}),s.jsxs("div",{className:"flex gap-4",children:[t&&t.length>0&&t.some(e=>e.name===r)&&s.jsx("button",{className:"p-2 bg-red-500 rounded-lg hover:bg-red-600 cursor-pointer ",onClick:()=>C(r),children:v}),s.jsx("button",{className:"p-2 rounded-lg cursor-pointer border border-gray-400 dark:border-gray-600 ",onClick:()=>A(),children:g&&g.columna===r?y:f})]})]}),s.jsxs("ul",{className:`gap-1 mb-4 max-h-[600px] overflow-x-auto  ${g?"":"hidden"}`,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:text-xs",children:[s.jsxs("a",{onClick:()=>S(),className:"dark:bg-gray-800 dark:border-gray-700 inline-flex items-center justify-between border hover:cursor-pointer border-gray-200 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:[j,s.jsx("span",{className:"ms-2 text-xs",children:i===9?"Seleccionar todos":"Seleccionar varios"})]}),s.jsxs("a",{onClick:()=>I(),className:"dark:bg-gray-800 dark:border-gray-700 inline-flex items-center border hover:cursor-pointer border-gray-200 p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group",children:[N,s.jsx("span",{className:"ms-2 text-xs",children:"Quitar Selecci칩n"})]})]}),s.jsx("ul",{className:"flex-1 grid grid-cols-1 py-4",children:b.map(e=>s.jsxs("li",{className:"p-1 flex items-center",children:[s.jsx("input",{type:"checkbox",id:e.nombre+r,name:e.id,value:e.id,className:"hidden peer",checked:t.some(a=>a.name===r&&a.ids.includes(e.id)),onChange:w}),s.jsx("label",{htmlFor:e.nombre+r,className:"w-full p-2 cursor-pointer rounded-sm dark:hover:text-gray-300 dark:border-gray-700 peer-checked:bg-gray-50  peer-checked:text-red-octopus-500 peer-checked:border-l-4 peer-checked:border-red-octopus-500 hover:text-gray-600 dark:peer-checked:text-gray-300  peer-checked:dark:bg-gray-900 hover:bg-gray-50 dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-700 capitalize text-sm",children:e.nombre})]},e.id))})]})]})};export{Q as M};
